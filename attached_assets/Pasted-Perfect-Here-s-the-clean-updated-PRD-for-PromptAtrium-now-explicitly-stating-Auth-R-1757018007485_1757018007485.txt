Perfect ✅ Here’s the **clean, updated PRD for PromptAtrium**, now explicitly stating:

* **Auth:** Replit Auth (built-in)
* **Database:** Replit Managed Postgres (Neon) with Drizzle ORM

---

# Product Requirements Document (PRD) – PromptAtrium

## 1. Introduction

**Project Title:** PromptAtrium

**Purpose**
PromptAtrium is a **multi-user web application** that serves as an open, central space for managing, sharing, and refining AI prompts. It combines the structure of a library with the communal energy of an atrium — a place where creators, teams, and communities gather to cultivate ideas.

**Scope (MVP)**

* Multi-user accounts with authentication and roles
* Secure, personal, and shared prompt libraries
* Advanced prompt metadata (categories, styles, variables, technical parameters)
* CRUD operations on prompts with versioning and forking
* Search and discovery via tags, categories, and full-text indexing
* Community features (likes, favorites, ratings, featured prompts)
* Project and collection organization
* REST API with role-based access

---

## 2. Goals & Objectives

* **Central Hub for Prompts** – provide one place for creators to store, discover, and refine prompts.
* **Multi-Tenant Architecture** – allow multiple users and teams to collaborate while keeping data isolated and secure.
* **Community & Discovery** – empower users to rate, like, fork, and feature prompts for wider use.
* **Scalable Foundation** – schema and API designed for growth into marketplace, collaboration, and advanced AI enhancement.

---

## 3. Target Users

* **AI Artists & Prompt Engineers** – manage prompt libraries for personal and professional projects.
* **Creative Teams & Agencies** – maintain shared prompt collections for campaigns or client work.
* **Researchers & Educators** – experiment with variations, track versions, and share learning resources.
* **Community Contributors** – submit, curate, and rate prompts for others to discover.

---

## 4. Key Features (MVP)

### 4.1 User & Authentication

* Use **Replit Auth** for login (secure, no password handling).
* User profiles: username, avatar, bio.
* Roles: `user`, `moderator`, `admin`.

### 4.2 Prompt Management

* Create, edit, and delete prompts.
* Support for positive + negative prompts.
* Attach notes, example image URLs, source references.
* Versioning and fork support (track lineage).
* Status: draft, published, archived.

### 4.3 Organization

* Group prompts by **projects**.
* Group prompts by **collections** (personal or shared).
* Link related prompts (e.g., series, variations).

### 4.4 Community Features

* Public/private prompt visibility.
* Likes and favorites.
* Ratings and reviews.
* Featured prompts (curated by admins).

### 4.5 Search & Discovery

* Full-text search on names, descriptions, content, tags.
* Filter by category, style, generator, tags.
* Sort by recency, popularity, quality score.

### 4.6 Analytics

* Track usage count, likes, and quality score.
* Store last-used timestamp for prompts.
* Community statistics (most liked, trending, featured).

---

## 5. Database Schema

**Database:** Replit Managed Postgres (Neon) with Drizzle ORM

**Prompts Table (core)**

* `prompt_id` (CHAR(10), primary key)
* `prompt_name`, `description`, `category`
* `prompt_content`, `negative_prompt`
* `prompt_type`, `prompt_style`
* `tags`, `tags_normalized`
* `is_public`, `is_featured`, `status`
* `example_images_url`, `notes`, `author`, `source_url`
* Versioning: `version`, `fork_of`
* Metrics: `usage_count`, `likes`, `quality_score`
* Technical: `intended_generator`, `recommended_models`, `technical_params (JSONB)`, `variables (JSONB)`
* Organization: `project_id`, `collection_id`, `related_prompts`, `license`
* Analytics: `last_used_at`, `search_vector`
* Audit: `user_id`, `created_at`, `updated_at`

**Supporting Tables**

* `users` (via Replit Auth user\_id, role, profile info)
* `projects` (project\_id, name, description, owner\_id)
* `collections` (collection\_id, name, description, user\_id)
* `prompt_favorites` (user\_id, prompt\_id)
* `prompt_ratings` (user\_id, prompt\_id, rating, review)

Indexes:

* GIN on `tags`, `tags_normalized`
* GIN on `search_vector`
* Composite on `(is_public, updated_at)` for public discovery

---

## 6. API Endpoints

**Auth**

* `GET /auth/me` – fetch current user profile via Replit Auth

**Prompts**

* `GET /prompts` – list/search prompts
* `POST /prompts` – create prompt
* `GET /prompts/:id` – fetch prompt
* `PUT /prompts/:id` – update prompt
* `DELETE /prompts/:id` – delete prompt
* `POST /prompts/:id/fork` – fork prompt

**Community**

* `POST /prompts/:id/like` – toggle like
* `POST /prompts/:id/favorite` – toggle favorite
* `POST /prompts/:id/rate` – submit/update rating

**Organization**

* `GET /projects` / `POST /projects`
* `GET /collections` / `POST /collections`

**Search**

* `GET /search?query=...&tags=...&category=...`

---

## 7. Technical Architecture

* **Frontend:** React 18 + TypeScript, TailwindCSS, shadcn/ui, TanStack Query, Wouter router
* **Backend:** Node.js + Express, TypeScript, Zod validation
* **Database:** Replit Managed Postgres (Neon) + Drizzle ORM
* **Auth:** Replit Auth (built-in)
* **Storage:** Replit Object Storage for example images
* **Security:** Role checks server-side; input validation (Zod); per-user access control

---

## 8. Non-Functional Requirements

* **Performance:** <500ms API response, <2s UI load
* **Scalability:** Multi-tenant user & project support
* **Security:** Role-based access, Replit Auth, input sanitization
* **Availability:** 99.9% uptime goal
* **Accessibility:** WCAG AA compliance

---
	